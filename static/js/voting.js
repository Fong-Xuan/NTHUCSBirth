var pageId="1172773622757917";window.fbAsyncInit=function(){FB.init({appId:'2138925566331857',xfbml:!0,version:'v2.8'})};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}
js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs)}(document,'script','facebook-jssdk'));function testAPI(response){console.log('Welcome!  Fetching your information.... ');var uid=response.authResponse.userID;var accessToken=response.authResponse.acce;var user_name="xx";var img_url="oo";var pagination=document.getElementById('pagination');pagination.className="row text-center";var loginButton_inner=document.getElementById('loginButton_inner');loginButton_inner.className+=' displayNone';FB.api('/'+uid,function(response){var user_name=response.name;var user_id=response.id;document.getElementById('user_name').innerHTML=user_name});FB.api('/me/picture?width=120&height=120',function(response){var img_url=response.data.url;console.log(img_url);document.getElementById('user_photo').src=img_url;user_name=document.getElementById('user_name').innerHTML;img_url=document.getElementById('user_photo').src});FB.api("/"+pageId+"/feed",function(response){if(response&&!response.error){var imgContainer=document.getElementById('imagesContainer');var row=document.createElement('div');var elements=response.data;var imageSrcs=new Array();var imgCount=0;for(var i=0;i<elements.length;i++){var post_id=elements[i].id;var img_url=null;FB.api('/'+post_id+"/attachments",function(response){var imgSrc=response.data[0].media.image.src;if(imgSrc!=null){if(imgCount%4==0){row=document.createElement('div');row.className="row popup-gallery";imgContainer.appendChild(row)}
var element=document.createElement('div');var tmpSrc="http://placehold.it/750x450"
element.className="col-md-3 portfolio-item ";element.innerHTML="<a href='"+imgSrc+"' > \
                                                <img class='img-responsive' src='"+imgSrc+"' alt=''> \
                                                </a>"
row.appendChild(element);imgCount ++}})}
console.log(imageSrcs.length);for(var i=0;i<imageSrcs.length;i++){}
console.log(response)}})}
function statusChangeCallback(response){console.log('statusChangeCallback');console.log(response);if(response.status==='connected'){testAPI(response)}else if(response.status==='not_authorized'){document.getElementById('status').innerHTML='Please log '+'into this app.'}else{document.getElementById('status').innerHTML='Please log '+'into Facebook.'}}
function checkLoginState(){FB.getLoginStatus(function(response){statusChangeCallback(response)})}